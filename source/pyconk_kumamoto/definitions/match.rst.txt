``match`` æ–‡
========================================

    The match statement is used for pattern matching.

``match`` æ–‡ã¯ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã«ä½¿ã‚ã‚Œã¾ã™ï¼ˆnikkieè¨³ï¼‰

`8.6. The match statement <https://docs.python.org/ja/3/reference/compound_stmts.html#the-match-statement>`_

ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã®ãƒªã‚½ãƒ¼ã‚¹ğŸ“š
------------------------------------------------

* PyCon Kyushu 2022 Kumamoto: Introduction to Structural Pattern Matching (by takanory-san)
* `PEP 636 -- Structural Pattern Matching: Tutorial > Appendix A -- Quick Intro <https://www.python.org/dev/peps/pep-0636/#appendix-a-quick-intro>`_
* `PyCon JP 2021 ãƒ¬ãƒãƒ¼ãƒˆ <https://gihyo.jp/news/report/01/pyconjp2021/0002>`_ ï¼ˆYouTubeã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚ã‚Šã¾ã™ï¼‰

ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®æ§‹æ–‡
------------------------------------------------

.. include:: productionlists/match.rst.txt

``match`` æ–‡ã®ä¾‹
------------------------------------------------

.. code-block:: python
    :linenos:

    def fizzbuzz(number):
        match number % 3, number % 5:
            case 0, 0: return "FizzBuzz"
            case 0, _: return "Fizz"
            case _, 0: return "Buzz"
            case _, _: return str(number)

å‘³ã‚ã† ``match`` æ–‡ 1/3
------------------------------------------------

.. include:: productionlists/match.rst.txt

* ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ ``match`` ã§å§‹ã¾ã‚‹ãƒ˜ãƒƒãƒ€ãŒå¿…é ˆ

.. code-block:: python
    :linenos:
    :emphasize-lines: 2

    def fizzbuzz(number):
        match number % 3, number % 5:
            case 0, 0: return "FizzBuzz"
            case 0, _: return "Fizz"
            case _, 0: return "Buzz"
            case _, _: return str(number)

å‘³ã‚ã† ``match`` æ–‡ 2/3
------------------------------------------------

.. include:: productionlists/match.rst.txt

* ``case_block`` ï¼ˆã‚¹ã‚¤ãƒ¼ãƒˆï¼‰ãŒ1ã¤ä»¥ä¸Š

.. code-block:: python
    :linenos:
    :emphasize-lines: 3-6

    def fizzbuzz(number):
        match number % 3, number % 5:
            case 0, 0: return "FizzBuzz"
            case 0, _: return "Fizz"
            case _, 0: return "Buzz"
            case _, _: return str(number)

å‘³ã‚ã† ``match`` æ–‡ 3/3
------------------------------------------------

.. include:: productionlists/match.rst.txt

* ``NEWLINE`` ï¼ˆæ”¹è¡Œï¼‰ã‚„ ``INDENT`` ï¼ˆã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼‰ã®æ˜ç¤º
* ``case`` ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯ãƒ˜ãƒƒãƒ€ã®å¾Œã«ã¤ãªã’ãªã„ï¼ˆä¾‹ãˆã° ``if`` ã¯ãƒ˜ãƒƒãƒ€ã®å¾Œã«ç¶šã‘ã‚‰ã‚Œã‚‹ï¼‰

ã‚‚ã†å°‘ã—ï¼š ``case_block``
------------------------------------------------

.. include:: productionlists/case_block.rst.txt

å‘³ã‚ã† ``case_block``
------------------------------------------------

.. include:: productionlists/case_block.rst.txt

* ã‚½ãƒ•ãƒˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ ``case`` ã§å§‹ã¾ã‚‹ãƒ˜ãƒƒãƒ€ãŒå¿…é ˆ
* ã‚¹ã‚¤ãƒ¼ãƒˆãŒ ``block`` ï¼ˆã‚»ãƒŸã‚³ãƒ­ãƒ³ã§åŒºåˆ‡ã£ã¦ã‚‚æ›¸ã‘ã‚‹ã—ã€æ¬¡ã®è¡Œã«ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ã¦ã‚‚æ›¸ã‘ã‚‹ï¼‰

è³ªç–‘ã‚ˆã‚Šï¼š ``block`` ã¨ã¯ï¼Ÿï¼ˆ ``suite`` ã¨ã©ã†é•ã†ï¼Ÿï¼‰ğŸ‘‰ Appendixã«è¿½åŠ 

ã‚¬ãƒ¼ãƒ‰ï¼ˆguardï¼‰â€»ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«
------------------------------------------------

.. productionlist:: python-grammar
   guard: "if" named_expression

ã‚¬ãƒ¼ãƒ‰ã®ä¾‹
------------------------------------------------

.. code-block:: python

    >>> flag = False
    >>> match (100, 200):
    ...    case (100, 200) if flag:  # ãƒãƒƒãƒã™ã‚‹ãŒ, ã‚¬ãƒ¼ãƒ‰ãŒæˆã‚Šç«‹ãŸãªã„
    ...        print("Case 2")
    ...    case (100, y):  # ã“ã“ã«ãƒãƒƒãƒï¼ï¼ˆyã«200ãŒä»£å…¥ã•ã‚Œã‚‹ï¼‰
    ...        print(f"Case 3, y: {y}")
    ...
    Case 3, y: 200
